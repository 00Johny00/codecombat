extends /templates/base-flat.jade

block page_nav
  include ./teacher-dashboard-nav.jade

block content
  if !me.isTeacher() && view.ownedClassrooms.size() && !me.isAdmin()
    .alert.alert-danger.text-center
      .container
        //- DNT: Temporary
        h3 ATTENTION: Please upgrade your account to a Teacher Account.
        p
          | We are transitioning to a new improved classroom management system for instructors.
          | Please convert your account to ensure you retain access to your classrooms.
        a.btn.btn-primary.btn-lg(href="/teachers/update-account") Upgrade to teacher account

  .container(dir="auto")
    h1(data-i18n="nav.courses")
    h2(data-i18n="courses.subtitle")
    //- p
    //-   a(href="https://discourse.codecombat.com/t/course-level-changelog/7352" data-i18n="courses.changelog")

  .courses.container(dir="auto")
    - var course = view.courses.where({isOzaria: true})[0]
    if !course
      .course.row
        .col-sm-9
          .course-info
            .text-h4.semibold
              | Additional chapters coming soon
    else
      .course.row
        .col-sm-9
          +course-info(course)
        if me.isTeacher() || me.isAdmin()
          .col-sm-3
            .play-level-form(data-course-id=course.id)
              .form-group
                label.control-label
                  span(data-i18n="courses.select_language")
                  | :
                  select.language-select.form-control
                    option(value="python")
                      | Python
                    option(value="javascript")
                      | JavaScript
              .form-group
                label.control-label
                  span(data-i18n="courses.select_level")
                  | :
                  select.level-select.form-control
                    if view.campaigns.loaded
                      - var campaign = view.campaigns.get(course.get('campaignID'))
                      if campaign && view.campaignLevelNumberMap[campaign.id]
                        each level, levelIndex in campaign.getLevels().models
                          option(value=level.get('slug'))
                            = view.displayName(level)
                - var disablePlayButtons = !view.paidTeacher && features.china && !(me.canAccessCampaignFreelyFromChina(course.get('campaignID')))
                a.play-level-button.btn.btn-lg.btn-primary(disabled=disablePlayButtons)
                  span(data-i18n="courses.play_level")
              .clearfix
  
mixin course-info(course)
  //- TODO: Restructure this section after Ozaria launches, because we don't want the list to be programatically generated like it was here.
  //- For now, it's hard coded to only show Ozaria 1FH content here
  .course-info
    .text-h4.semibold
      | Prologue: Sky Mountain
    p
      | In this unit, students will be introduced to basic syntax in either Python or JavaScript. They will get an introduction to objects and methods with arguments, used to change object properties. Finally, they will learn some basic game development skills in order to complete their arcade game.
    p.concepts.semibold
      span(data-i18n="courses.concepts_covered")
      = ": "
    p
      | Basic syntax, arguments, strings, while loops, variables, if statements, functions, parameters, advanced strings

    if me.isTeacher() || view.ownedClassrooms.size() || me.isAdmin()
      - var disableButtons = !view.paidTeacher && (features.china ? !me.canAccessCampaignFreelyFromChina(course.get('campaignID')) : !course.get('free'))
      if disableButtons
        p
          i(data-i18n="courses.solutions_require_licenses")
      //- Web dev courses use HTML and JavaScript, except web-development-1 which doesn't have scripting
      //- TODO: Re-enable these when the system has content. For now, we are only showing a markdown file.
      //- a.guide-btn.btn.btn-primary(disabled=disableButtons href=("/teachers/course-solution/" + course.id + "/javascript") data-course-id=course.id data-course-name=course.get('name') data-event-action="Classes Guides Guide JavaScript" class=(me.isTeacher() || me.isAdmin() ? '': 'disabled'))
      //-   span(data-i18n="courses.view_guide_online")
      //-   |  &mdash; JavaScript
      //- a.guide-btn.btn.btn-primary(disabled=disableButtons href=("/teachers/course-solution/" + course.id + "/python") data-course-id=course.id data-course-name=course.get('name') data-event-action="Classes Guides Guide Python" class=(me.isTeacher() || me.isAdmin() ? '': 'disabled'))
      //-   span(data-i18n="courses.view_guide_online")
      //-   |  &mdash; Python
      a.guide-btn.btn.btn-primary(href=("/teachers/resources/prologue-teacher-solutions") class=(me.isTeacher() || me.isAdmin() ? '': 'disabled'))
        span(data-i18n="courses.view_guide_online")
